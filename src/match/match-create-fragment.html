<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../layouts/fragment-layout.html">
<link rel="import" href="../styles/app-styles.html">
<link rel="import" href="../org/org-element.html">
<link rel="import" href="../match/match-create.html">

<dom-module id="match-create-fragment">
  <template>
    <style include="app-styles"></style>

    <fragment-layout
      org="[[org]]"
      title="Create Match!"
      back-button>

      <match-create
        id="create"
        org="[[org]]"
        user-uid="[[userUid]]">
      </match-create>

    </fragment-layout>
  </template>
  <script>
    class MatchCreateFragment extends OrgElement {
      static get is () { return 'match-create-fragment' }
      static get properties () {
        return {
          userUid: String,
          active: {type: Boolean, observer: '_activeChanged'}
        }
      }
      static get observers () {
        return ['_loadData(active, org)']
      }
      _loadData (active, org) {
        if (!active || !org) return
        this.$.create.loadData()
      }
      _activeChanged (active) {
        if (!active) this.$.create.reset()
      }
    }

    window.customElements.define(MatchCreateFragment.is, MatchCreateFragment)
  </script>
</dom-module>
